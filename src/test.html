<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <title>H5小游戏100例: 拼图</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no" />
  <link href="css/puzzle.css" rel="stylesheet">
</head>

<body>
<canvas id="view"></canvas>
</body>
<script type="text/javascript" src="script/lib/pixi.js"></script>
<script type="text/javascript">
PIXI.DisplayObject.prototype.shortcut = function() { 

}


let app = new PIXI.Application({
	width: 375, 
	height: 603, 
	view: view, 
	backgroundColor: 0x000000
}); 
// let rect = new PIXI.Graphics(); 
// rect.beginFill(0xFF00FF).drawRect(0, 0, 100, 100); 
// app.stage.addChild(rect);  
// rect.x = 100; 
// rect.y = 100; 
// rect.rotation = Math.PI / 4; 
// let rect2 = new PIXI.Graphics(); 
// rect2.beginFill(0xFFFF00).drawRect(0, 0, 20, 20); 
// rect.addChild(rect2); 
// rect2.x = rect2.y = 40; 
// console.log(rect2.getBounds(), rect2.getLocalBounds());
// let cache = rect.generateCanvasTexture2(); 
// console.log(cache); 
// let sprite = new PIXI.Sprite(cache); 

// app.stage.addChild(sprite); 
// setTimeout(e => app.stage.removeChild(rect), 3000); 

// a.jpg 的尺寸是：450 x 300
PIXI.loader.add({name: "a", url: "images/pictures/a.jpg"}).load(e => { 
	let sprite = new PIXI.Sprite(PIXI.utils.TextureCache.a); 
	sprite.width = sprite.width / 2; 
	sprite.height = sprite.height / 2; 
	sprite.rotation = Math.PI / 9; 
	
	// sprite.setTransform(); 
	let texture = new PIXI.RenderTexture.create(sprite.width, sprite.height); 

	let canvasRender = new PIXI.WebGLRenderer(); 

	canvasRender.render(sprite, texture); 

	console.log(texture)

	// 结果缓存后的图片宽高仍然是 450 x 300

	app.stage.addChild(new PIXI.Sprite(texture)); 
})

</script>
</html>